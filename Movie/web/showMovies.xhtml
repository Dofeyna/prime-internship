<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets" 
template="./template.xhtml">  
    <ui:define name="content">
        <h:form id="form">
           <p:dataTable id="movies" var="movie" value="#{mvs.movies}" paginator="true" rows="10" selection="#{mvs.selectedMovie}" rowKey="#{movie.id}" >
                    <f:facet name="header">
                        Movies in database
                    </f:facet>
                    <p:column selectionMode="single" style="width:18px" />
                    <p:column headerText="Title">
                        #{movie.title}
                    </p:column>
                     <p:column headerText="Director">
                        #{movie.director}
                    </p:column>
                    <p:column headerText="Year">
                        #{movie.year}
                    </p:column>
                    <p:column headerText="Rating">
                        #{movie.rating}
                    </p:column>
                    <f:facet name="footer">
                        <p:commandButton id="viewCommand" value="View" icon="ui-icon-search" update=":form:displaySingle" oncomplete="singleMovieDialog.show()"/>
                        <p:commandButton id="deleteCommand" value="Delete" icon="ui-icon-trash" update=":form:displaySingle" />
                        <p:commandButton id="editCommand" value="Edit" icon="ui-icon-wrench" update=":form:displaySingle" oncomplete="singleMovieDialog"/>
                    </f:facet>                         
                </p:dataTable>   

                <p:dialog id="dialog" header="Movie Detail" widgetVar="singleMovieDialog" resizable="false" showEffect="fade" hideEffect="explode">

                <h:panelGrid id="displaySingle" columns="2" cellpadding="4">

                    <h:outputText value="Title:" />
                    <h:outputText value="#{mvs.selectedMovie.title}" />

                    <h:outputText value="Plot:" />
                    <h:outputText value="#{mvs.selectedMovie.plot}" />

                    <h:outputText value="Director" />
                    <h:outputText value="#{mvs.selectedMovie.director}" />
                </h:panelGrid>
            </p:dialog>
        </h:form>
    </ui:define>     
</ui:composition>